<div id="bestFive">
</div>

<script>

const pictures =
[
    {
      id:1,
      src:"https://images.unsplash.com/photo-1640233587149-f2a217b0761f?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHx0b3BpYy1mZWVkfDJ8YkRvNDhjVWh3bll8fGVufDB8fHx8&auto=format&fit=crop&w=900&q=60",
      likes:100,
      caption: "Lorem ipsum dor sit amet",
      comments: [],
      user: "santi",
    },
    {
      id:2,
      src:"https://images.unsplash.com/photo-1646625813171-96736188e3a0?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHx0b3BpYy1mZWVkfDV8YkRvNDhjVWh3bll8fGVufDB8fHx8&auto=format&fit=crop&w=900&q=60",
      likes:10,
      caption: "Lorem ipsum dor sit amet",
      comments: [],
      user: "santi",
    },
    {
      id:3,
      src:"https://images.unsplash.com/photo-1638561001481-ab4b7b984780?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHx0b3BpYy1mZWVkfDF8YkRvNDhjVWh3bll8fGVufDB8fHx8&auto=format&fit=crop&w=900&q=60",
      likes:20,
      caption: "Lorem ipsum dor sit amet",
      comments: [],
      user: "santi",
    },
    {
      id:4,
      src:"https://images.unsplash.com/photo-1646625813587-da98e13ce4b7?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHx0b3BpYy1mZWVkfDZ8YkRvNDhjVWh3bll8fGVufDB8fHx8&auto=format&fit=crop&w=900&q=60",
      likes:30,
      caption: "Lorem ipsum dor sit amet",
      comments: [],
      user: "juan",
    }
    ,
    {
      id:5,
      src:"https://images.unsplash.com/photo-1646645065984-935f92b46f8b?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHx0b3BpYy1mZWVkfDR8YkRvNDhjVWh3bll8fGVufDB8fHx8&auto=format&fit=crop&w=900&q=60",
      likes:50,
      caption: "Lorem ipsum dor sit amet",
      comments: [],
      user: "juan",
    },
    {
      id:6,
      src:"https://images.unsplash.com/photo-1600969700425-e3e0ae965c77?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHx0b3BpYy1mZWVkfDh8YkRvNDhjVWh3bll8fGVufDB8fHx8&auto=format&fit=crop&w=900&q=60",
      likes:60,
      caption: "Lorem ipsum dor sit amet",
      comments: [],
      user: "juan",
    },
    {
      id:7,
      src:"https://images.unsplash.com/photo-1605418524574-0159244a11be?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHx0b3BpYy1mZWVkfDl8YkRvNDhjVWh3bll8fGVufDB8fHx8&auto=format&fit=crop&w=900&q=60",
      likes:70,
      caption: "Lorem ipsum dor sit amet",
      comments: [],
      user: "juan",
    },
    {
      id:8,
      src:"https://images.unsplash.com/photo-1617503752587-97d2103a96ea?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHx0b3BpYy1mZWVkfDEwfGJEbzQ4Y1Vod25ZfHxlbnwwfHx8fA%3D%3D&auto=format&fit=crop&w=900&q=60",
      likes:2000,
      caption: "Lorem ipsum dor sit amet",
      comments: [],
      user: "pedro",
    },
    {
      id:9,
      src:"https://images.unsplash.com/photo-1574095059431-815305ba05a0?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHx0b3BpYy1mZWVkfDEyfGJEbzQ4Y1Vod25ZfHxlbnwwfHx8fA%3D%3D&auto=format&fit=crop&w=900&q=60",
      likes:200,
      caption: "Lorem ipsum dor sit amet",
      comments: [],
      user: "lucio",
    },
    {
      id:10,
      src:"https://images.unsplash.com/photo-1644819237072-0c5b24771faa?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHx0b3BpYy1mZWVkfDE5fGJEbzQ4Y1Vod25ZfHxlbnwwfHx8fA%3D%3D&auto=format&fit=crop&w=900&q=60",
      likes:0,
      caption: "Lorem ipsum dor sit amet",
      comments: [],
      user: "milena",
    },
    {
      id:11,
      src:"https://images.unsplash.com/photo-1635098996098-4be245965756?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHx0b3BpYy1mZWVkfDIxfGJEbzQ4Y1Vod25ZfHxlbnwwfHx8fA%3D%3D&auto=format&fit=crop&w=900&q=60",
      likes:100,
      caption: "Lorem ipsum dor sit amet",
      comments: [],
      user: "milena",
    },
    {
      id:12,
      src:"https://images.unsplash.com/photo-1646133778943-1023997b25cf?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHx0b3BpYy1mZWVkfDE4fGJEbzQ4Y1Vod25ZfHxlbnwwfHx8fA%3D%3D&auto=format&fit=crop&w=900&q=60",
      likes:100,
      caption: "Lorem ipsum dor sit amet",
      comments: [],
      user: "milena",
    },
    {
      id:13,
      src:"https://images.unsplash.com/photo-1646071526677-8fcd74d53564?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHx0b3BpYy1mZWVkfDI1fGJEbzQ4Y1Vod25ZfHxlbnwwfHx8fA%3D%3D&auto=format&fit=crop&w=900&q=60",
      likes:100,
      caption: "Lorem ipsum dor sit amet",
      comments: [],
      user: "ana",
    },
    {
      id:14,
      src:"https://images.unsplash.com/photo-1645956734679-abb26fa6808a?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHx0b3BpYy1mZWVkfDI4fGJEbzQ4Y1Vod25ZfHxlbnwwfHx8fA%3D%3D&auto=format&fit=crop&w=900&q=60",
      likes:100,
      caption: "Lorem ipsum dor sit amet",
      comments: [],
      user: "juana",
    },
    {
      id:15,
      src:"https://images.unsplash.com/photo-1645805129483-9e719d97e4b0?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHx0b3BpYy1mZWVkfDMxfGJEbzQ4Y1Vod25ZfHxlbnwwfHx8fA%3D%3D&auto=format&fit=crop&w=900&q=60",
      likes:100,
      caption: "Lorem ipsum dor sit amet",
      comments: [],
      user: "juana",
    },
    {
      id:16,
      src:"https://images.unsplash.com/photo-1634986666676-ec8fd927c23d?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHx0b3BpYy1mZWVkfDM1fGJEbzQ4Y1Vod25ZfHxlbnwwfHx8fA%3D%3D&auto=format&fit=crop&w=900&q=60",
      likes:100,
      caption: "Lorem ipsum dor sit amet",
      comments: [],
      user: "petra",
    },
    {
      id:17,
      src:"https://images.unsplash.com/photo-1646040538557-1dd5339f9c7b?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHx0b3BpYy1mZWVkfDM2fGJEbzQ4Y1Vod25ZfHxlbnwwfHx8fA%3D%3D&auto=format&fit=crop&w=900&q=60",
      likes:100,
      caption: "Lorem ipsum dor sit amet",
      comments: [],
      user: "petra",
    },
    {
      id:18,
      src:"https://images.unsplash.com/flagged/photo-1570547714730-329793a362f8?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHx0b3BpYy1mZWVkfDQ2fGJEbzQ4Y1Vod25ZfHxlbnwwfHx8fA%3D%3D&auto=format&fit=crop&w=900&q=60",
      likes:100,
      caption: "Lorem ipsum dor sit amet",
      comments: [],
      user: "petra",
    },
    {
      id:19,
      src:"https://images.unsplash.com/photo-1631298028390-42add8c84a59?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHx0b3BpYy1mZWVkfDQyfGJEbzQ4Y1Vod25ZfHxlbnwwfHx8fA%3D%3D&auto=format&fit=crop&w=900&q=60",
      likes:0,
      caption: "Lorem ipsum dor sit amet",
      comments: [],
      user: "petra",
    },
    {
      id:20,
      src:"https://images.unsplash.com/photo-1645644370216-de8747cf9a06?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHx0b3BpYy1mZWVkfDQ0fGJEbzQ4Y1Vod25ZfHxlbnwwfHx8fA%3D%3D&auto=format&fit=crop&w=900&q=60",
      likes:25,
      caption: "Lorem ipsum dor sit amet",
      comments: [],
      user: "omar",
    },
    {
      id:21,
      src:"https://images.unsplash.com/photo-1645430293696-0c4f6ea56db5?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHx0b3BpYy1mZWVkfDUyfGJEbzQ4Y1Vod25ZfHxlbnwwfHx8fA%3D%3D&auto=format&fit=crop&w=900&q=60",
      likes:20,
      caption: "Lorem ipsum dor sit amet",
      comments: [],
      user: "omar",
    },
    {
      id:22,
      src:"https://images.unsplash.com/photo-1645570628434-8a4b37f4d024?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHx0b3BpYy1mZWVkfDQ4fGJEbzQ4Y1Vod25ZfHxlbnwwfHx8fA%3D%3D&auto=format&fit=crop&w=900&q=60",
      likes:0,
      caption: "Lorem ipsum dor sit amet",
      comments: [],
      user: "omar",
    },
    {
      id:23,
      src:"https://images.unsplash.com/photo-1603477571269-77f3e097993d?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHx0b3BpYy1mZWVkfDU1fGJEbzQ4Y1Vod25ZfHxlbnwwfHx8fA%3D%3D&auto=format&fit=crop&w=900&q=60",
      likes:8,
      caption: "Lorem ipsum dor sit amet",
      comments: [],
      user: "omar",
    },
    {
      id:24,
      src:"https://images.unsplash.com/photo-1645165102257-9963785edd8b?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHx0b3BpYy1mZWVkfDUxfGJEbzQ4Y1Vod25ZfHxlbnwwfHx8fA%3D%3D&auto=format&fit=crop&w=900&q=60",
      likes:0,
      caption: "Lorem ipsum dor sit amet",
      comments: [],
      user: "omar",
    },
    {
      id:25,
      src:"https://images.unsplash.com/photo-1643627726907-1246022e36e4?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHx0b3BpYy1mZWVkfDU5fGJEbzQ4Y1Vod25ZfHxlbnwwfHx8fA%3D%3D&auto=format&fit=crop&w=900&q=60",
      likes:102,
      caption: "Lorem ipsum dor sit amet",
      comments: [],
      user: "juanita",
    },
]



  function getBestFive()
  {
      


      const keys = [];

      //1. Obtener un array donde tenga usuario y fotos asociadas
      pictures.forEach(element=>{
          const picUser = element.user;
          if(typeof keys.find(data=>data.nombre===picUser)=== 'undefined')
          {
             const picturesOfUser = pictures.filter(pic=>pic.user===picUser);
             keys.push({nombre:picUser, pictures:picturesOfUser})
          }
      })
      //2. Obtener un array con el total de likes en las fotos de cada usuario
      const totalLikes = keys.map(usuario=>{

        return {user:usuario, totalLikes:getTotalLikes(usuario.pictures)};

      });
      
     //3. Ordenar por nÃºmero de likes
     totalLikes.sort((a,b)=>a.totalLikes<b.totalLikes)
      
     

      //3. mostrar el resultado en el dom
      const ranking = totalLikes.splice(0,5);

      const nodo = document.querySelector("#bestFive");
      ranking.forEach(element=>{
        const li = document.createElement("li");
        li.innerHTML=`${element.user.nombre} - ${element.totalLikes}`
        nodo.appendChild(li);
      })
  }

  function getTotalLikes(userPictures)
  {
      return userPictures.reduce((total, element)=>{
        return total+=element.likes;
      }, 0)
  }

  getBestFive();
</script>


